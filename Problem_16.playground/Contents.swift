import UIKit

let triangle =
[[75, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
[95, 64, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
[17, 47, 82, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
[18, 35, 87, 10, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
[20, 04, 82, 47, 65, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
[19, 01, 23, 75, 03, 34, 0, 0, 0, 0, 0, 0, 0, 0, 0],
[88, 02, 77, 73, 07, 63, 67, 0, 0, 0, 0, 0, 0, 0, 0],
[99, 65, 04, 28, 06, 16, 70, 92, 0, 0, 0, 0, 0, 0, 0],
[41, 41, 26, 56, 83, 40, 80, 70, 33, 0, 0, 0, 0, 0, 0],
[41, 48, 72, 33, 47, 32, 37, 16, 94, 29, 0, 0, 0, 0, 0],
[53, 71, 44, 65, 25, 43, 91, 52, 97, 51, 14, 0, 0, 0, 0],
[70, 11, 33, 28, 77, 73, 17, 78, 39, 68, 17, 57, 0, 0, 0],
[91, 71, 52, 38, 17, 14, 91, 43, 58, 50, 27, 29, 48, 0, 0],
[63, 66, 04, 68, 89, 53, 67, 30, 73, 16, 69, 87, 40, 31, 0],
[04, 62, 98, 27, 23, 09, 70, 98, 73, 93, 38, 53, 60, 04, 23]]

let flippedTriangle =
    [[23, 4, 60, 53, 38, 93, 73, 98, 70, 9, 23, 27, 98, 62, 4],
     [0, 31, 40, 87, 69, 16, 73, 30, 67, 53, 89, 68, 4, 66, 63],
     [0, 0, 48, 29, 27, 50, 58, 43, 91, 14, 17, 38, 52, 71, 91],
     [0, 0, 0, 57, 17, 68, 39, 78, 17, 73, 77, 28, 33, 11, 70],
     [0, 0, 0, 0, 14, 51, 97, 52, 91, 43, 25, 65, 44, 71, 53],
     [0, 0, 0, 0, 0, 29, 94, 16, 37, 32, 47, 33, 72, 48, 41],
     [0, 0, 0, 0, 0, 0, 33, 70, 80, 40, 83, 56, 26, 41, 41],
     [0, 0, 0, 0, 0, 0, 0, 92, 70, 16, 6, 28, 4, 65, 99],
     [0, 0, 0, 0, 0, 0, 0, 0, 67, 63, 7, 73, 77, 2, 88],
     [0, 0, 0, 0, 0, 0, 0, 0, 0, 34, 3, 75, 23, 1, 19],
     [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 65, 47, 82, 4, 20],
     [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 10, 87, 35, 18],
     [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 82, 47, 17],
     [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 64, 95],
     [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 75]]

let outcome =
    [[23, 4, 60, 53, 38, 93, 73, 98, 70, 9, 23, 27, 98, 62, 4],
     [54, 100, 147, 122, 109, 166, 128, 165, 123, 112, 95, 102, 164, 125, 63],
     [31, 88, 116, 114, 119, 131, 116, 158, 81, 106, 127, 120, 137, 157, 91],
     [0, 48, 105, 46, 118, 97, 136, 108, 164, 94, 66, 85, 82, 161, 70],
     [0, 0, 57, 71, 119, 165, 130, 169, 116, 102, 142, 77, 104, 123, 53],
     [0, 0, 0, 14, 80, 191, 113, 128, 123, 90, 98, 137, 119, 112, 41],
     [0, 0, 0, 0, 29, 127, 164, 117, 77, 130, 103, 98, 113, 89, 41],
     [0, 0, 0, 0, 0, 33, 162, 150, 96, 89, 111, 60, 106, 140, 99],
     [0, 0, 0, 0, 0, 0, 92, 159, 133, 23, 101, 105, 67, 187, 88],
     [0, 0, 0, 0, 0, 0, 0, 67, 101, 66, 148, 100, 78, 107, 19],
     [0, 0, 0, 0, 0, 0, 0, 0, 34, 99, 122, 157, 27, 39, 20],
     [0, 0, 0, 0, 0, 0, 0, 0, 0, 65, 75, 169, 117, 38, 18],
     [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 10, 169, 134, 52, 17],
     [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 82, 146, 142, 95],
     [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 64, 170, 75]]

let nextOutcome =
[[23, 4, 60, 53, 38, 93, 73, 98, 70, 9, 23, 27, 98, 62, 4],
 [0, 54, 100, 147, 122, 109, 166, 128, 165, 123, 112, 95, 102, 164, 125],
 [0, 31, 88, 116, 114, 119, 131, 116, 158, 81, 106, 127, 120, 137, 157],
 [0, 0, 48, 105, 46, 118, 97, 136, 108, 164, 94, 66, 85, 82, 161],
 [0, 0, 0, 57, 71, 119, 165, 130, 169, 116, 102, 142, 77, 104, 123],
 [0, 0, 0, 0, 14, 80, 191, 113, 128, 123, 90, 98, 137, 119, 112],
 [0, 0, 0, 0, 0, 29, 127, 164, 117, 77, 130, 103, 98, 113, 89],
 [0, 0, 0, 0, 0, 0, 33, 162, 150, 96, 89, 111, 60, 106, 140],
 [0, 0, 0, 0, 0, 0, 0, 92, 159, 133, 23, 101, 105, 67, 187],
 [0, 0, 0, 0, 0, 0, 0, 0, 67, 101, 66, 148, 100, 78, 107],
 [0, 0, 0, 0, 0, 0, 0, 0, 0, 34, 99, 122, 157, 27, 39],
 [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 65, 75, 169, 117, 38],
 [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 10, 169, 134, 52],
 [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 82, 146, 142],
 [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 64, 170]]
/*
can move to index or index + 1
*/

func maxSumPath(_ triangle: Array<Array<Int>>) -> Array<Array<Int>> {
    var tri: Array<Array<Int>> = triangle.reversed()
    for (rowIndex ,row) in tri.enumerated() {
            tri[rowIndex] = row.reversed()
    }
//    for (rowIndex ,row) in tri.enumerated() {
//        for (itemIndex, item) in row.enumerated() {
//            if itemIndex < row.count - 1, rowIndex < tri.count - 1 {
//                let leftItem = item
//                let rightItem = row[itemIndex + 1]
//                let childItem = tri[rowIndex + 1][itemIndex + 1]
//                let leftSum = leftItem + childItem
//                let rightSum = rightItem + childItem
//                tri[rowIndex + 1][itemIndex + 1] = leftSum > rightSum ? leftSum : rightSum
//            }
//        }
//    }
    return rowSum(tri)
}

func rowSum(_ triangle: Array<Array<Int>>) -> Array<Array<Int>> {
    var newTriangle = triangle
    let firstRow = newTriangle[0]
    if newTriangle.count == 1 {
        return newTriangle
    } else {
    var secondRow = newTriangle[1]
    for (index, leftItem) in firstRow.enumerated() {
        if index < firstRow.count - 1, index < secondRow.count - 1 {
            let rightItem = firstRow[index + 1]
            let childItem = secondRow[index + 1]
            let leftSum = leftItem + childItem
            let rightSum = rightItem + childItem
            if leftSum > rightSum {
                secondRow[index + 1] = leftSum
            } else {
                secondRow[index + 1] = rightSum
            }
        }
        newTriangle[1] = secondRow
        newTriangle.remove(at: 0)
        rowSum(newTriangle)
    }
    }
    return newTriangle
}

print(maxSumPath(triangle))
